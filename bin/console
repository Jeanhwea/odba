#!/bin/bash
HERE=$(cd $(dirname $0); pwd)
ROOT=$(git -C ${HERE} rev-parse --show-toplevel)
SQLPLUS=$([ -x /usr/bin/rlwrap ] && echo 'rlwrap -c sqlplus' || echo 'sqlplus')
CONNFILE="${ROOT}/tmp/sqlplus.list"

[ ! -f ${CONNFILE} ] && \
  echo "Connections file [${CONNFILE}] is not found" \
  && exit 1

conns=($(cat ${CONNFILE}))
[ ${#conns[@]} -eq 0 ] && \
  echo "Connections file [${CONNFILE}] is empty" \
  && exit 1
